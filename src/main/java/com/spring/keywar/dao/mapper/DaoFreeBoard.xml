<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-mybatis.org/DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.spring.keywar.dao.DaoFreeBoard">

	<select id="count_freeboardList" resultType="int">
		SELECT COUNT(FBSEQNO) FROM FREEBOARD
	</select>
	
	<select id="freeboardList" resultType="com.spring.keywar.dto.DtoFreeBoard">
		SELECT FBSEQNO, MID, FBTITLE, FBDATE, FBLIKE, FBVIEW FROM FREEBOARD AS FB, KEYWAR.MEMBER AS M WHERE FB.MEMBER_MSEQNO = M.MSEQNO ORDER BY FBSEQNO DESC LIMIT #{0}, 5
	</select>
	
	<select id="count_freeboardSearch_fbTitle" resultType="int">
		SELECT COUNT(FBSEQNO) FROM FREEBOARD WHERE FBTITLE LIKE CONCAT('%',#{0},'%')
	</select>
	
	<select id="count_freeboardSearch_mId" resultType="int">
		SELECT COUNT(FBSEQNO) FROM FREEBOARD AS FB, KEYWAR.MEMBER AS M WHERE FB.MEMBER_MSEQNO = M.MSEQNO AND M.MID = #{0}
	</select>
	
	<select id="freeboardSearch_fbTitle" resultType="com.spring.keywar.dto.DtoFreeBoard">
		SELECT FBSEQNO, MID, FBTITLE, FBDATE, FBLIKE, FBVIEW FROM FREEBOARD AS F, KEYWAR.MEMBER AS M WHERE F.MEMBER_MSEQNO = M.MSEQNO AND FBTITLE LIKE CONCAT('%',#{0},'%') ORDER BY FBSEQNO DESC LIMIT #{1}, 5
	</select>
	
	<select id="freeboardSearch_mId" resultType="com.spring.keywar.dto.DtoFreeBoard">
		SELECT FBSEQNO, MID, FBTITLE, FBDATE, FBLIKE, FBVIEW FROM FREEBOARD AS FB, KEYWAR.MEMBER AS M WHERE FB.MEMBER_MSEQNO = M.MSEQNO AND MID = #{0} ORDER BY FBSEQNO DESC LIMIT #{1}, 5
	</select>
	
	

</mapper>